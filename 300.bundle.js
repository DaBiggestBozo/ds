"use strict";(self.webpackChunkdust_web=self.webpackChunkdust_web||[]).push([[300],{300:(e,t,n)=>{let r;n.r(t),n.d(t,{EmuState:()=>x,SaveType:()=>F,WbgModel:()=>k,create_emu_state:()=>d,default:()=>N,initSync:()=>D,internal_get_memory:()=>g,internal_get_module:()=>m,run_worker:()=>w});const o=new Array(128).fill(void 0);function a(e){return o[e]}o.push(void 0,null,!0,!1);let i=o.length;function _(e){const t=a(e);return function(e){e<132||(o[e]=i,i=e)}(e),t}function u(e){i===o.length&&o.push(o.length+1);const t=i;return i=o[t],o[t]=e,t}const s="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&s.decode();let c=null;function f(){return null!==c&&c.buffer===r.memory.buffer||(c=new Uint8Array(r.memory.buffer)),c}function b(e,t){return e>>>=0,s.decode(f().slice(e,e+t))}function w(){r.run_worker()}function l(e){return null==e}function d(e,t,n,o,a,i,_,s,c){const f=r.create_emu_state(l(e)?0:u(e),l(t)?0:u(t),l(n)?0:u(n),u(o),l(a)?0:u(a),l(i)?11:i,_,s,u(c));return x.__wrap(f)}function m(){return _(r.internal_get_module())}function g(){return _(r.internal_get_memory())}let y=0;const p="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},h=function(e,t){const n=p.encode(e);return t.set(n),{read:e.length,written:n.length}};let A=null;function E(){return null!==A&&A.buffer===r.memory.buffer||(A=new Int32Array(r.memory.buffer)),A}const F=Object.freeze({None:0,0:"None",Eeprom4k:1,1:"Eeprom4k",EepromFram64k:2,2:"EepromFram64k",EepromFram512k:3,3:"EepromFram512k",EepromFram1m:4,4:"EepromFram1m",Flash2m:5,5:"Flash2m",Flash4m:6,6:"Flash4m",Flash8m:7,7:"Flash8m",Nand64m:8,8:"Nand64m",Nand128m:9,9:"Nand128m",Nand256m:10,10:"Nand256m"}),k=Object.freeze({Ds:0,0:"Ds",Lite:1,1:"Lite",Ique:2,2:"Ique",IqueLite:3,3:"IqueLite",Dsi:4,4:"Dsi"}),v="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_emustate_free(e>>>0)));class x{static __wrap(e){e>>>=0;const t=Object.create(x.prototype);return t.__wbg_ptr=e,v.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,v.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_emustate_free(e)}reset(){r.emustate_reset(this.__wbg_ptr)}load_save(e){r.emustate_load_save(this.__wbg_ptr,u(e))}export_save(){return _(r.emustate_export_save(this.__wbg_ptr))}update_input(e,t){r.emustate_update_input(this.__wbg_ptr,e,t)}update_touch(e,t){r.emustate_update_touch(this.__wbg_ptr,l(e)?16777215:e,l(t)?16777215:t)}run_frame(){return _(r.emustate_run_frame(this.__wbg_ptr))}}function W(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){_(e)},e.wbg.__wbindgen_memory=function(){return u(r.memory)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){return u(a(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_4a659d079a1650e0=function(e,t,n){return u(new Float32Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_new_9efabd6b6d2ce46d=function(e){return u(new Float32Array(a(e)))},e.wbg.__wbg_call_8e7cb608789c2528=function(){return function(e,t){try{return function(e,t,n,r){return u(a(e).call(a(t),a(n),a(r)))}.apply(this,t)}catch(e){r.__wbindgen_exn_store(u(e))}}(0,arguments)},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,n){return u(new Uint8Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_new_63b92bc8671ed464=function(e){return u(new Uint8Array(a(e)))},e.wbg.__wbg_newwithbyteoffsetandlength_3125852e5a7fbcff=function(e,t,n){return u(new Uint32Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_new_2afb9348997957e9=function(e){return u(new Uint32Array(a(e)))},e.wbg.__wbg_length_c20a40f15020d68a=function(e){return a(e).length},e.wbg.__wbindgen_module=function(){return u(I.__wbindgen_wasm_module)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return u(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=function(e,t,n){if(void 0===n){const n=p.encode(e),r=t(n.length,1)>>>0;return f().subarray(r,r+n.length).set(n),y=n.length,r}let r=e.length,o=t(r,1)>>>0;const a=f();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;a[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length,1)>>>0;const t=f().subarray(o+i,o+r);i+=h(e,t).written,o=n(o,r,i,1)>>>0}return y=i,o}(a(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=y;E()[e/4+1]=o,E()[e/4+0]=n},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,o;try{n=e,o=t,console.error(b(e,t))}finally{r.__wbindgen_free(n,o,1)}},e.wbg.__wbg_set_a47bac70306a19a7=function(e,t,n){a(e).set(a(t),n>>>0)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(b(e,t))},e}function R(e,t){e.wbg.memory=t||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0})}function T(e,t){return r=e.exports,I.__wbindgen_wasm_module=t,A=null,c=null,r.__wbindgen_start(),r}function D(e,t){if(void 0!==r)return r;const n=W();return R(n,t),e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),T(new WebAssembly.Instance(e,n),e)}async function I(e,t){if(void 0!==r)return r;void 0===e&&(e=new URL(n(376),n.b));const o=W();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),R(o,t);const{instance:a,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,o);return T(a,i)}const N=I},376:(e,t,n)=>{e.exports=n.p+"d1ed8ba3b3edcfe2567e.wasm"}}]);