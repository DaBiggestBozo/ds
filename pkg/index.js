let wasm;const heap=new Array(128).fill(void 0);function getObject(e){return heap[e]}heap.push(void 0,null,!0,!1);let heap_next=heap.length;function dropObject(e){e<132||(heap[e]=heap_next,heap_next=e)}function takeObject(e){const t=getObject(e);return dropObject(e),t}function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);const t=heap_next;return heap_next=heap[t],heap[t]=e,t}const cachedTextDecoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return null!==cachedUint8Memory0&&cachedUint8Memory0.buffer===wasm.memory.buffer||(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(e,t){return e>>>=0,cachedTextDecoder.decode(getUint8Memory0().slice(e,e+t))}export function run_worker(){wasm.run_worker()}function isLikeNone(e){return null==e}export function create_emu_state(e,t,n,a,r,o,i,_,c){const s=wasm.create_emu_state(isLikeNone(e)?0:addHeapObject(e),isLikeNone(t)?0:addHeapObject(t),isLikeNone(n)?0:addHeapObject(n),addHeapObject(a),isLikeNone(r)?0:addHeapObject(r),isLikeNone(o)?11:o,i,_,addHeapObject(c));return EmuState.__wrap(s)}export function internal_get_module(){return takeObject(wasm.internal_get_module())}export function internal_get_memory(){return takeObject(wasm.internal_get_memory())}let WASM_VECTOR_LEN=0;const cachedTextEncoder="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},encodeString=function(e,t){const n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}};function passStringToWasm0(e,t,n){if(void 0===n){const n=cachedTextEncoder.encode(e),a=t(n.length,1)>>>0;return getUint8Memory0().subarray(a,a+n.length).set(n),WASM_VECTOR_LEN=n.length,a}let a=e.length,r=t(a,1)>>>0;const o=getUint8Memory0();let i=0;for(;i<a;i++){const t=e.charCodeAt(i);if(t>127)break;o[r+i]=t}if(i!==a){0!==i&&(e=e.slice(i)),r=n(r,a,a=i+3*e.length,1)>>>0;const t=getUint8Memory0().subarray(r+i,r+a);i+=encodeString(e,t).written,r=n(r,a,i,1)>>>0}return WASM_VECTOR_LEN=i,r}let cachedInt32Memory0=null;function getInt32Memory0(){return null!==cachedInt32Memory0&&cachedInt32Memory0.buffer===wasm.memory.buffer||(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}function handleError(e,t){try{return e.apply(this,t)}catch(e){wasm.__wbindgen_exn_store(addHeapObject(e))}}export const SaveType=Object.freeze({None:0,0:"None",Eeprom4k:1,1:"Eeprom4k",EepromFram64k:2,2:"EepromFram64k",EepromFram512k:3,3:"EepromFram512k",EepromFram1m:4,4:"EepromFram1m",Flash2m:5,5:"Flash2m",Flash4m:6,6:"Flash4m",Flash8m:7,7:"Flash8m",Nand64m:8,8:"Nand64m",Nand128m:9,9:"Nand128m",Nand256m:10,10:"Nand256m"});export const WbgModel=Object.freeze({Ds:0,0:"Ds",Lite:1,1:"Lite",Ique:2,2:"Ique",IqueLite:3,3:"IqueLite",Dsi:4,4:"Dsi"});const EmuStateFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>wasm.__wbg_emustate_free(e>>>0)));export class EmuState{static __wrap(e){e>>>=0;const t=Object.create(EmuState.prototype);return t.__wbg_ptr=e,EmuStateFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,EmuStateFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_emustate_free(e)}reset(){wasm.emustate_reset(this.__wbg_ptr)}load_save(e){wasm.emustate_load_save(this.__wbg_ptr,addHeapObject(e))}export_save(){return takeObject(wasm.emustate_export_save(this.__wbg_ptr))}update_input(e,t){wasm.emustate_update_input(this.__wbg_ptr,e,t)}update_touch(e,t){wasm.emustate_update_touch(this.__wbg_ptr,isLikeNone(e)?16777215:e,isLikeNone(t)?16777215:t)}run_frame(){return takeObject(wasm.emustate_run_frame(this.__wbg_ptr))}}async function __wbg_load(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function __wbg_get_imports(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){takeObject(e)},e.wbg.__wbindgen_memory=function(){return addHeapObject(wasm.memory)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){return addHeapObject(getObject(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_4a659d079a1650e0=function(e,t,n){return addHeapObject(new Float32Array(getObject(e),t>>>0,n>>>0))},e.wbg.__wbg_new_9efabd6b6d2ce46d=function(e){return addHeapObject(new Float32Array(getObject(e)))},e.wbg.__wbg_call_8e7cb608789c2528=function(){return handleError((function(e,t,n,a){return addHeapObject(getObject(e).call(getObject(t),getObject(n),getObject(a)))}),arguments)},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,n){return addHeapObject(new Uint8Array(getObject(e),t>>>0,n>>>0))},e.wbg.__wbg_new_63b92bc8671ed464=function(e){return addHeapObject(new Uint8Array(getObject(e)))},e.wbg.__wbg_newwithbyteoffsetandlength_3125852e5a7fbcff=function(e,t,n){return addHeapObject(new Uint32Array(getObject(e),t>>>0,n>>>0))},e.wbg.__wbg_new_2afb9348997957e9=function(e){return addHeapObject(new Uint32Array(getObject(e)))},e.wbg.__wbg_length_c20a40f15020d68a=function(e){return getObject(e).length},e.wbg.__wbindgen_module=function(){return addHeapObject(__wbg_init.__wbindgen_wasm_module)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return addHeapObject(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=passStringToWasm0(getObject(t).stack,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),a=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=a,getInt32Memory0()[e/4+0]=n},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,a;try{n=e,a=t,console.error(getStringFromWasm0(e,t))}finally{wasm.__wbindgen_free(n,a,1)}},e.wbg.__wbg_set_a47bac70306a19a7=function(e,t,n){getObject(e).set(getObject(t),n>>>0)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(getStringFromWasm0(e,t))},e}function __wbg_init_memory(e,t){e.wbg.memory=t||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0})}function __wbg_finalize_init(e,t){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=t,cachedInt32Memory0=null,cachedUint8Memory0=null,wasm.__wbindgen_start(),wasm}function initSync(e,t){if(void 0!==wasm)return wasm;const n=__wbg_get_imports();return __wbg_init_memory(n,t),e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),__wbg_finalize_init(new WebAssembly.Instance(e,n),e)}async function __wbg_init(e,t){if(void 0!==wasm)return wasm;void 0===e&&(e=new URL("index_bg.wasm",import.meta.url));const n=__wbg_get_imports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),__wbg_init_memory(n,t);const{instance:a,module:r}=await __wbg_load(await e,n);return __wbg_finalize_init(a,r)}export{initSync};export default __wbg_init;